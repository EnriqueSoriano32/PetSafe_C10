import{j as e,Y as l,b as x,a as u,y as p}from"./app-7fdd65f2.js";import{z as t,u as h,t as w}from"./zod-714b6d98.js";import{_ as f}from"./index-4c44a9fb.js";import{I as i}from"./Input-d30d9cf5.js";const b=t.object({password:t.string().min(6,{message:"La contraseña debe tener al menos 6 caracteres"}),confirmPassword:t.string()}).refine(s=>s.password===s.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]}),C=({token:s})=>{const{register:a,reset:n,handleSubmit:d,formState:{errors:o,isSubmitting:r}}=h({mode:"onChange",resolver:w(b)}),c=m=>{u.post("/createpassword",{...m,token:s}).then(()=>{n(),p.visit("/dashboard")}).catch(()=>{f.error("Ocurrió un error")})};return e.jsxs(e.Fragment,{children:[e.jsx(l,{title:s?"Crear contraseña":"Error"}),e.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-slate-200",children:s?e.jsxs("div",{className:"p-5 rounded-md shadow-md min-w-[50%] max-w-xl bg-white",children:[e.jsx("h1",{className:"text-center text-2xl text-custom-brown p-5",children:"Crear contraseña"}),e.jsx("p",{}),e.jsxs("form",{className:"space-y-6 px-5 py-3",onSubmit:d(c),children:[e.jsx(i,{id:"password",label:"Contraseña",required:!0,type:"password",errors:o.password,disabled:r,register:a}),e.jsx(i,{id:"confirmPassword",label:"Confirmar Contraseña",required:!0,type:"password",errors:o.confirmPassword,disabled:r,register:a}),e.jsx("button",{type:"submit",className:"w-full h-12 bg-custom-gold text-white text-center font-bold rounded-md",disabled:r,children:"Iniciar sesión"})]})]}):e.jsxs("div",{className:"p-5 rounded-md shadow-md min-w-[50%] max-w-xl bg-white flex flex-col gap-2 justify-center items-center",children:[e.jsx("p",{className:"text-red-500 font-bold text-xl",children:"Ocurrió un error"}),e.jsx(x,{className:"p-2 rounded-md text-white bg-custom-gold",href:"/",children:"Ir a inicio"})]})})]})};export{C as default};
